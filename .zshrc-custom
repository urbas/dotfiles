export EDITOR=vim

export LC_CTYPE="en_GB.UTF-8"
export LANG="en_GB.UTF-8"

PROGRAMMING_DIR=$HOME/programming

export PATH=$PATH

# Nix
if [ -f $HOME/.nix-profile/etc/profile.d/nix.sh ]; then
  . $HOME/.nix-profile/etc/profile.d/nix.sh
  alias nixup="nix-env -i homeEnv && nix-env --delete-generations old"
  alias nixed="vim $HOME/.nixpkgs/config.nix"
fi

function nixupg() {
  nix-channel --update nixpkgs
  nix-env -u '*'
  nixup
}

# Frequent directories aliases
alias n="cd $PROGRAMMING_DIR/nest"
alias p="cd $PROGRAMMING_DIR"

# General aliases
alias dotfiles="git --git-dir=$HOME/.my-dotfiles --work-tree=$HOME"
alias gaip="ga -ip"
alias c="xclip -selection clipboard"
alias v="xclip -selection clipboard -o"

function yqs() {
  yq -y $@ | bat -l yaml
}

# Better cli
if [ -x "$(which ncdu)" ]; then
  alias du="ncdu --color dark -rr -x --exclude .git --exclude node_modules"
fi

if [ -x "$(which bat)" ]; then
  alias cat="bat"
fi

if [ -x "$(which fd)" ]; then
  alias find="fd"
fi

export FZF_DEFAULT_COMMAND='fd --hidden --follow --exclude .git --exclude .cache'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND --type f"
export FZF_ALT_C_COMMAND="$FZF_DEFAULT_COMMAND --type d"

if [ -f $HOME/.nix-profile/share/fzf/key-bindings.zsh ]; then
  . $HOME/.nix-profile/share/fzf/key-bindings.zsh
fi